# Edge翻译插件

这是一个简单但实用的Edge浏览器翻译插件，可以帮助你快速翻译网页上的英文内容。

## 功能特点

- 选中即翻译：选择网页上的英文文本，自动显示中文翻译
- 优雅的弹窗界面：翻译结果以浮动窗口的形式显示在选中文本下方
- 灵活配置：支持自定义API地址、密钥和模型名称
- 简单易用：无需额外操作，选中文本即可翻译
- 支持所有网站：可在任何网页上使用
- 内置调试工具：方便排查和解决问题

## 使用前准备

1. 准备API配置信息
   - API Key：你的API访问密钥
   - API地址：支持OpenAI或兼容的API接口地址
   - 模型名称：要使用的AI模型名称

2. 配置插件
   - 点击浏览器工具栏中的插件图标
   - 在弹出窗口中填写以下信息：
     * API Key
     * API地址（默认为OpenAI地址）
     * 模型名称（默认为gpt-3.5-turbo）
   - 点击保存按钮

## 安装方法

1. 打开Edge浏览器，进入扩展管理页面：
   - 在地址栏输入 `edge://extensions/`
   - 或者点击菜单 -> 扩展

2. 开启"开发人员模式"（右上角开关）

3. 点击"加载解压缩的扩展"

4. 选择本项目所在文件夹

5. 完成安装后，插件图标将出现在浏览器工具栏中

## 使用方法

1. 在任何网页上选中英文文本
2. 等待翻译结果自动显示在选中文本下方
3. 点击页面任意位置可关闭翻译窗口

## 配置说明

### API地址
- 默认值：`https://api.openai.com/v1/chat/completions`
- 可以配置为其他兼容OpenAI接口的服务地址

### 模型名称
- 默认值：`gpt-3.5-turbo`
- 可以根据实际使用的API服务配置其他模型名称

### API Key
- 必填项
- 请妥善保管你的API密钥
- 密钥将安全存储在浏览器中

## 调试功能

### 调试工具
插件内置了调试工具，可以通过以下方式访问：
1. 点击插件图标打开配置页面
2. 在页面底部找到"调试工具"区域

### 调试功能说明
1. **测试连接**
   - 点击"测试连接"按钮
   - 自动发送测试请求
   - 实时显示请求过程和结果
   - 帮助验证API配置是否正确

2. **显示当前配置**
   - 显示当前所有配置项
   - 帮助确认配置是否正确保存
   - 不会显示实际的API Key

3. **调试日志**
   - 实时显示所有操作日志
   - 包含详细的请求和响应信息
   - 显示错误详情（如果有）
   - 可以通过"清除日志"按钮清空

### 常见问题排查
1. API连接失败
   - 检查API Key是否正确
   - 确认API地址是否可访问
   - 查看调试日志中的具体错误信息

2. 翻译结果异常
   - 检查模型名称是否正确
   - 确认API服务是否支持指定的模型
   - 查看完整的请求和响应数据

3. 配置无法保存
   - 确保所有必填字段都已填写
   - 检查浏览器存储权限
   - 查看调试日志中的错误信息

## 注意事项

- 插件仅支持英文到中文的翻译
- 需要有效的API Key才能使用
- API调用可能产生费用，请注意使用量
- 选中的文本必须是英文（包含字母、空格和常见标点符号）
- 支持自定义API服务，但需要与OpenAI API格式兼容
- 调试信息包含敏感数据，请勿分享给他人

## 项目结构

```
├── manifest.json    // 插件配置文件
├── popup.html      // 设置页面
├── popup.js        // 设置页面逻辑和翻译功能
├── content.js      // 页面交互脚本
├── translator.css  // 翻译窗口样式
└── images/         // 图标文件
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

## 技术说明

- 使用 Manifest V3 规范开发
- 使用原生JavaScript编写
- 支持最新版本的Edge浏览器
- 支持OpenAI及兼容API服务
- 内置完整的调试工具链 